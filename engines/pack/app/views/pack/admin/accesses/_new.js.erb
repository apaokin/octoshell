



var pack_id=0;
 
              
    
$( "input[name='pack_id']" ).autocomplete({
      source: function( request, response ) {
        $.ajax({
          url: "<%=packages_path%>",
          dataType: "json",
          data: {
            term: request.term
          },
          success: function( data ) {
            response( data );
          }
        });
      },
      select: function( event, ui ) {
      	pack_id=ui.item.id;
      	$("#pack_result").html(ui.item.label + '   id:   ' + ui.item.id );
       
      }
      
    });



$( "input[name='vers_id']" ).autocomplete({
      source: function( request, response ) {
        $.ajax({
          url: "<%=admin_versions_path%>",
          dataType: "json",
          data: {
            term: request.term,
            package_id:pack_id
          },
          success: function( data ) {
            response( data );
          }
        });
      },
      select: function( event, ui ) {
      	pack_id=ui.item.id;
      	$("#vers_result").html(ui.item.label + '   id:   ' + ui.item.id );
      	$("#access_version_id").val(ui.item.id);
        console.log( ui.item ?
          "Selected: " + ui.item.id :
          "Nothing selected, input was " + this.value);
      }
      
    });



  //$(document).on('change',"select[name=package_id]",alert('zz'));

  $("select[name='package_id']").on("select2:select", function (e) { log("change"); });

